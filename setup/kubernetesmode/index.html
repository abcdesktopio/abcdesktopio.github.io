
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="/img/abcdesktop128x128.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>Setup Kubernetes for GNU/Linux only - abcdesktopio.github.io</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup-kubernetes-for-gnulinux" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="abcdesktopio.github.io" class="md-header-nav__button md-logo" aria-label="abcdesktopio.github.io">
      
  <img src="/img/abcdesktop.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            abcdesktopio.github.io
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Setup Kubernetes for GNU/Linux only
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/abcdesktopio/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="abcdesktopio.github.io" class="md-nav__button md-logo" aria-label="abcdesktopio.github.io">
      
  <img src="/img/abcdesktop.svg" alt="logo">

    </a>
    abcdesktopio.github.io
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/abcdesktopio/docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" >
    
    <label class="md-nav__link" for="nav-1">
      About
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="About" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon"></span>
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/howreadthisdoc/" class="md-nav__link">
      How to read this documentation
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/howtodolabsexercices/" class="md-nav__link">
      How to do labs and exercices
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/version/" class="md-nav__link">
      Version
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/opensource/" class="md-nav__link">
      Open source
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/authors/" class="md-nav__link">
      Authors
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../about/related_projets/" class="md-nav__link">
      Related projects
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../requirements/" class="md-nav__link">
      Requirements
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      GUI apps on Docker
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="GUI apps on Docker" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        GUI apps on Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../guiappsoddocker/" class="md-nav__link">
      Run GUI apps on Docker
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../vnc/" class="md-nav__link">
      Hands-on with VNC client
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../novnc/" class="md-nav__link">
      Hands-on with no-VNC HTML5
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    
    <label class="md-nav__link" for="nav-6">
      Architecture
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Architecture" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../architecture/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2" >
    
    <label class="md-nav__link" for="nav-6-2">
      Core
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Core" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        <span class="md-nav__icon md-icon"></span>
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/nginx/" class="md-nav__link">
      Nginx
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/pyos/" class="md-nav__link">
      Pyos
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/mongodb/" class="md-nav__link">
      Mongodb
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/memcached/" class="md-nav__link">
      Memcached
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/speedtest/" class="md-nav__link">
      Speedtest
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../core/ocuser/" class="md-nav__link">
      User
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3" >
    
    <label class="md-nav__link" for="nav-6-3">
      Services
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Services" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        <span class="md-nav__icon md-icon"></span>
        Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../services/spawner-service/" class="md-nav__link">
      Spawner-service
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../services/file-service/" class="md-nav__link">
      File-service
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Setup guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Setup guide" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Setup guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1" >
    
    <label class="md-nav__link" for="nav-7-1">
      Docker (Non-cluster)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Docker (Non-cluster)" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        <span class="md-nav__icon md-icon"></span>
        Docker (Non-cluster)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../dockermode/" class="md-nav__link">
      Setup abcdesktop for Docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2" checked>
    
    <label class="md-nav__link" for="nav-7-2">
      Kubernetes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-2-1" type="checkbox" id="nav-7-2-1" >
    
    <label class="md-nav__link" for="nav-7-2-1">
      Requirements
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Requirements" data-md-level="3">
      <label class="md-nav__title" for="nav-7-2-1">
        <span class="md-nav__icon md-icon"></span>
        Requirements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../k8slinuxinstallation/" class="md-nav__link">
      Kubernetes on GNU/Linux
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../k8smacosinstallation/" class="md-nav__link">
      Kubernetes on MacOS/X
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../k8swindows10installation/" class="md-nav__link">
      Kubernetes on Windows 10
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Setup Kubernetes for GNU/Linux only
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Setup Kubernetes for GNU/Linux only
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-kubernetes-master-node" class="md-nav__link">
    Initialize Kubernetes Master Node
  </a>
  
    <nav class="md-nav" aria-label="Initialize Kubernetes Master Node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-disable-swap-memory-if-running" class="md-nav__link">
    Step 1: Disable swap memory (if running)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-initialize-kubernetes" class="md-nav__link">
    Step 2: Initialize Kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-remove-master-node-taint" class="md-nav__link">
    Step 3: Remove Master Node Taint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-deploy-a-pod-network-through-the-master-node" class="md-nav__link">
    Step 4: Deploy a Pod Network through the master node
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Deploy a Pod Network through the master node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-node-status" class="md-nav__link">
    Check node status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../kubernetes_abcdesktop/" class="md-nav__link">
      Setup abcdesktop for Kubernetes
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../kubernetes_abcdesktop_applications/" class="md-nav__link">
      Setup applications for abcdesktop
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3" >
    
    <label class="md-nav__link" for="nav-7-3">
      Kubernetes add-ons
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes add-ons" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes add-ons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../kubernetes_networkpolicies/" class="md-nav__link">
      Setup Network policy
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../kubernetes_flexvolume/" class="md-nav__link">
      Setup CIFS Volume
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../secure_dockerd/" class="md-nav__link">
      Secure Dockerd
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../kubernetes_secure_etcd/" class="md-nav__link">
      Secure Etcd
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
    
    <label class="md-nav__link" for="nav-8">
      Applications Containers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Applications Containers" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Applications Containers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../applications/list/" class="md-nav__link">
      List of all applications ready to use
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../applications/" class="md-nav__link">
      Application image format
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../buildapplicationsgnulinux/" class="md-nav__link">
      Build your own abcdesktop GNU/Linux Image
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
    
    <label class="md-nav__link" for="nav-9">
      Configuration Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Configuration Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Configuration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/editconfig/" class="md-nav__link">
      Edit your configuration file
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/stack/" class="md-nav__link">
      Stack mode
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3" >
    
    <label class="md-nav__link" for="nav-9-3">
      Authentification
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Authentification" data-md-level="2">
      <label class="md-nav__title" for="nav-9-3">
        <span class="md-nav__icon md-icon"></span>
        Authentification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authentification/" class="md-nav__link">
      config
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-3-2" type="checkbox" id="nav-9-3-2" >
    
    <label class="md-nav__link" for="nav-9-3-2">
      explicit
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="explicit" data-md-level="3">
      <label class="md-nav__title" for="nav-9-3-2">
        <span class="md-nav__icon md-icon"></span>
        explicit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authexplicit/" class="md-nav__link">
      Directory services
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authexplicit-ldap/" class="md-nav__link">
      LDAP
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authexplicit-activedirectory/" class="md-nav__link">
      Active Directory
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authimplicit/" class="md-nav__link">
      implicit
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/authexternal/" class="md-nav__link">
      external
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/desktop/" class="md-nav__link">
      Desktop
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/frontjs/" class="md-nav__link">
      Front
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/language/" class="md-nav__link">
      Languages
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-7" type="checkbox" id="nav-9-7" >
    
    <label class="md-nav__link" for="nav-9-7">
      Logging
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Logging" data-md-level="2">
      <label class="md-nav__title" for="nav-9-7">
        <span class="md-nav__icon md-icon"></span>
        Logging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/logging/" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/syslog/" class="md-nav__link">
      Syslog
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-8" type="checkbox" id="nav-9-8" >
    
    <label class="md-nav__link" for="nav-9-8">
      Controllers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Controllers" data-md-level="2">
      <label class="md-nav__title" for="nav-9-8">
        <span class="md-nav__icon md-icon"></span>
        Controllers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/controllers/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/controllers/manager/" class="md-nav__link">
      Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-9" type="checkbox" id="nav-9-9" >
    
    <label class="md-nav__link" for="nav-9-9">
      WebRTC
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="WebRTC" data-md-level="2">
      <label class="md-nav__title" for="nav-9-9">
        <span class="md-nav__icon md-icon"></span>
        WebRTC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/webrtc/" class="md-nav__link">
      Pulseaudio
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-10" type="checkbox" id="nav-9-10" >
    
    <label class="md-nav__link" for="nav-9-10">
      Issue tracking
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Issue tracking" data-md-level="2">
      <label class="md-nav__title" for="nav-9-10">
        <span class="md-nav__icon md-icon"></span>
        Issue tracking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/jira/" class="md-nav__link">
      Jira
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" >
    
    <label class="md-nav__link" for="nav-10">
      How-to
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="How-to" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon"></span>
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../config/sudo-kubernetes/" class="md-nav__link">
      Get a root access inside a container
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../retrieve_all_images/" class="md-nav__link">
      Get all docker application image for abcdesktop
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../common/docker_macvlan/" class="md-nav__link">
      Bind a specific docker network for an application
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-kubernetes-master-node" class="md-nav__link">
    Initialize Kubernetes Master Node
  </a>
  
    <nav class="md-nav" aria-label="Initialize Kubernetes Master Node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-disable-swap-memory-if-running" class="md-nav__link">
    Step 1: Disable swap memory (if running)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-initialize-kubernetes" class="md-nav__link">
    Step 2: Initialize Kubernetes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-remove-master-node-taint" class="md-nav__link">
    Step 3: Remove Master Node Taint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-deploy-a-pod-network-through-the-master-node" class="md-nav__link">
    Step 4: Deploy a Pod Network through the master node
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Deploy a Pod Network through the master node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-node-status" class="md-nav__link">
    Check node status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/abcdesktopio/docs/edit/master/docs/setup/kubernetesmode.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="setup-kubernetes-for-gnulinux">Setup kubernetes for GNU/Linux</h1>
<p>This section apply only to configure kubernetes for GNU/Linu. The Docker setup process for MacOS/X and for Microsoft Windows is ready to use by cheching the kubernetes options.</p>
<p>abcdesktop.io support docker mode and kubernetes mode. In this section we will study how abcdesktop.io is working in kubernetes mode. The abcdesktop.io kubernetes mode is recommended for enterprise use, all user containers can be distributed on different hosts.</p>
<h2 id="requirements">Requirements</h2>
<p><a href="../k8slinuxinstallation/">Linux Requierements</a></p>
<h2 id="installation">Installation</h2>
<p>The following commands will let you prepare kubernetes on one node. In this case, all applications run on a single node. To deploy a abcdesktopio on multi nodes read the next section. It's recommended to start with a single node.</p>
<h3 id="initialize-kubernetes-master-node">Initialize Kubernetes Master Node</h3>
<h4 id="step-1-disable-swap-memory-if-running">Step 1: Disable swap memory (if running)</h4>
<p>You need to disable swap memory on nodes as Kubernetes does not perform properly on a system that is using swap memory. Run the following command in order to disable swap memory.  </p>
<pre><code>swapoff -a
</code></pre>
<h4 id="step-2-initialize-kubernetes">Step 2: Initialize Kubernetes</h4>
<p>Run the following command as sudo on the master node:</p>
<pre><code>kubeadm init --pod-network-cidr=10.244.0.0/16
</code></pre>
<p>The process might take a minute or more depending on your internet connection.  </p>
<p>To be able to manage your kubernetes server, you need to run the following commands as a regular user:</p>
<pre><code>mkdir -p $HOME/.kube
cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
chown $(id -u):$(id -g) $HOME/.kube/config
</code></pre>
<h4 id="step-3-remove-master-node-taint">Step 3: Remove Master Node Taint</h4>
<p>Taints are Kubernetes flags to prevent Pod Scheduling. Remove the taints on the master so that you can schedule pods on it.</p>
<pre><code>kubectl taint node `hostname` node-role.kubernetes.io/master-
</code></pre>
<p>It should return the following string.</p>
<pre><code>node/&lt;your-hostname&gt; untainted
</code></pre>
<p>Taints are Kubernetes flags to prevent Pod Scheduling.</p>
<p>Confirm that you now have a node in your cluster with the following command.</p>
<pre><code>kubectl get nodes -o wide
</code></pre>
<p>It should return something like the following.</p>
<pre><code>NAME              STATUS      ROLES    AGE   VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION    CONTAINER-RUNTIME
&lt;your-hostname&gt;   NotReady    master   2m    v1.19.3   192.168.8.2   &lt;none&gt;        Ubuntu 20.04.1 LTS   5.4.0-52-generic   docker://19.3.13
</code></pre>
<h4 id="step-4-deploy-a-pod-network-through-the-master-node">Step 4: Deploy a Pod Network through the master node</h4>
<p>A pod network is a medium of communication between the nodes of a network. We are deploying a Flannel pod network on our cluster through the following command:</p>
<pre><code>kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre>
<p>It should return the following strings.</p>
<pre><code>podsecuritypolicy.policy/psp.flannel.unprivileged created
clusterrole.rbac.authorization.k8s.io/flannel created
clusterrolebinding.rbac.authorization.k8s.io/flannel created
serviceaccount/flannel created
configmap/kube-flannel-cfg created
daemonset.apps/kube-flannel-ds created
</code></pre>
<h5 id="check-node-status">Check node status</h5>
<p>Now when you see the status of the nodes, you will see that the master-node is ready :</p>
<pre><code>kubectl get nodes -o wide
</code></pre>
<pre><code>NAME             STATUS   ROLES    AGE   VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION     CONTAINER-RUNTIME
&lt;your-hostname&gt;  Ready    master   5m    v1.19.3   192.168.8.2   &lt;none&gt;        Ubuntu 20.04.1 LTS   5.4.0-52-generic   docker://19.3.13
</code></pre>
<p>At this step, there is no more <code>Taints</code> and your node is <code>Ready</code>. </p>
<p>Next step, continue with the <a href="../kubernetes_abcdesktop/">setup abcdesktop</a> for kubernetes.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../k8swindows10installation/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Kubernetes on Windows 10
              </div>
            </div>
          </a>
        
        
          <a href="../kubernetes_abcdesktop/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Setup abcdesktop for Kubernetes
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>